<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>《reactjs小书》 - ZWiley的读书笔记</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.0.4, mkdocs-gitbook-1.0.7">

<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="../../css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href="../.." target="_blank" class="custom-link">ZWiley的读书笔记</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="">
<a href="../..">简介</a>
<li class="header">C++</li>

<li>
<a href="../../基础语言/C++编译底层/" class="">《C++编译底层》</a>
</li>

<li>
<a href="../../基础语言/C++基础知识/" class="">《C++基础知识》</a>
</li>

<li>
<a href="../../基础语言/C++智能指针_异常机制_强制转换_RTTI/" class="">《C++智能指针》</a>
</li>

<li>
<a href="../../基础语言/C++面向对象/" class="">《C++面向对象》</a>
</li>

<li>
<a href="../../基础语言/STL/" class="">《C++ STL》</a>
</li>

<li class="header">计算机基础知识</li>

<li>
<a href="../../计算机基础知识/操作系统/" class="">《操作系统》</a>
</li>

<li>
<a href="../../计算机基础知识/计算机网络/" class="">《计算机网络》</a>
</li>

<li>
<a href="../../计算机基础知识/数据结构/" class="">《数据结构》</a>
</li>

<li>
<a href="../../计算机基础知识/海量数据处理/" class="">《海量数据处理》</a>
</li>

<li class="header">《基本手写代码》</li>

<li>
<a href="../../基本手写代码/插入排序.cpp" class="">《插入排序》</a>
</li>

<li>
<a href="../../基本手写代码/单例模式.cpp" class="">《单例模式》</a>
</li>

<li>
<a href="../../基本手写代码/堆排序.cpp" class="">《堆排序》</a>
</li>

<li>
<a href="../../基本手写代码/二分查找法.cpp" class="">《二分查找法》</a>
</li>

<li>
<a href="../../基本手写代码/非递归二叉树遍历.cpp" class="">《非递归二叉树遍历》</a>
</li>

<li>
<a href="../../基本手写代码/归并排序.cpp" class="">《归并排序》</a>
</li>

<li>
<a href="../../基本手写代码/快速排序.cpp" class="">《快速排序》</a>
</li>

<li>
<a href="../../基本手写代码/智能指针的设计与实现.cpp" class="">《智能指针的设计与实现》</a>
</li>

<li class="header">项目基础知识</li>

<li>
<a href="../../项目基础知识/Linux系统编程及基本命令/" class="">《Linux系统编程及基本命令》</a>
</li>

<li>
<a href="../../项目基础知识/MySQL/" class="">《MySQL》</a>
</li>

<li>
<a href="../../项目基础知识/Redis/" class="">《Redis》</a>
</li>

<li>
<a href="../../项目基础知识/Socket编程/" class="">《Socket编程》</a>
</li>

<li class="header">代码</li>

<li>
<a href="../../code/work_with_legacy_code/" class="">《Work with legacy code》</a>
</li>

<li>
<a href="../../code/代码大全/" class="">《代码大全》</a>
</li>

<li>
<a href="../../code/代码的未来/" class="">《代码的未来》</a>
</li>

<li>
<a href="../../code/基本功/" class="">《基本功》</a>
</li>

<li>
<a href="../../code/敏捷技能修炼/" class="">《敏捷技能修炼》</a>
</li>

<li>
<a href="../../code/程序员应该知道的97件事/" class="">《程序员应该知道的97件事》</a>
</li>

<li>
<a href="../../code/编写可读代码的艺术/" class="">《编写可读代码的艺术》</a>
</li>

<li>
<a href="../../code/编程匠艺/" class="">《编程匠艺》</a>
</li>

<li>
<a href="../../code/领域驱动设计/" class="">《领域驱动设计》</a>
</li>

<li>
<a href="../../code/codelife_不止代码/" class="">《codelife_不止代码》</a>
</li>

<li class="header">调试技术</li>

<li>
<a href="../../debug/软件调试修炼之道/book/" class="">《软件调试修炼之道》</a>
</li>

<li>
<a href="../../debug/Effective_Debugging/" class="">《Effective Debugging》</a>
</li>

<li class="header">数据库</li>

<li>
<a href="../../database/getting_started_with_impala/" class="">《Getting started with impala》</a>
</li>

<li>
<a href="../../database/mysql必知必会/" class="">《mysql必知必会》</a>
</li>

<li>
<a href="../../database/mysql性能调优与架构实践/" class="">《mysql性能调优与架构实践》</a>
</li>

<li>
<a href="../../database/Mysql技术内幕InnoDB存储引擎/" class="">《Mysql技术内幕InnoDB存储引擎》</a>
</li>

<li>
<a href="../../database/redis实战/" class="">《Redis实战》</a>
</li>

<li>
<a href="../../database/redis深度历险核心原理和应用实践/book/" class="">《Redis深度历险核心原理和应用实践》</a>
</li>

<li>
<a href="../../database/redis设计与实现/" class="">《redis设计与实现》</a>
</li>

<li>
<a href="../../database/七周七数据库/" class="">《七周七数据库》</a>
</li>

<li>
<a href="../../database/深入浅出mysql/" class="">《深入浅出mysql》</a>
</li>

<li>
<a href="../../database/高性能mysql第三版/" class="">《高性能mysql第三版》</a>
</li>

<li class="header">前端</li>

<li>
<a href="../CSS_The_Missing_Manual/" class="">《CSS_The_Missing_Manual》</a>
</li>

<li>
<a href="./" class="active">《reactjs小书》</a>
</li>

<li>
<a href="../es6标准入门/" class="">《ES6标准入门》</a>
</li>

<li>
<a href="../jquery_pocket_reference/" class="">《jquery_pocket_reference》</a>
</li>

<li>
<a href="../深入理解bootstrap/" class="">《深入理解bootstrap》</a>
</li>

<li class="header">golang</li>

<li>
<a href="../../golang/1_the_go_programming_lauguage/" class="">《1 The Go Programming Language》</a>
</li>

<li>
<a href="../../golang/2_the_go_programming_lauguage/" class="">《2 The Go Programming Language》</a>
</li>

<li>
<a href="../../golang/3_the_go_programming_lauguage/" class="">《3 The Go Programming Language》</a>
</li>

<li>
<a href="../../golang/build-web-application-with-golang/" class="">《Build Web Application With Golang》</a>
</li>

<li>
<a href="../../golang/go101/book/" class="">《Go101》</a>
</li>

<li>
<a href="../../golang/network-programming-with-go/book/" class="">《Network Programming with go》</a>
</li>

<li>
<a href="../../golang/building-microservices-with-go/book/" class="">《Building Microservices With Go》</a>
</li>

<li>
<a href="../../golang/building_restful_web_services_with_go/book/" class="">《Building Restful Web Services with Go》</a>
</li>

<li>
<a href="../../golang/concurrency-in-go/concurrency_in_go/" class="">《Concurrency In Go》</a>
</li>

<li>
<a href="../../golang/go_in_action(go语言实战)/" class="">《Go In Action(Go 实战)》</a>
</li>

<li>
<a href="../../golang/go语言学习笔记语言详解/" class="">《Go学习笔记语言详解》</a>
</li>

<li>
<a href="../../golang/go语言学习笔记源码剖析/" class="">《Go学习笔记源码剖析》</a>
</li>

<li>
<a href="../../golang/go语言编程/" class="">《go语言编程》</a>
</li>

<li>
<a href="../../golang/the_way_to_go/book/" class="">《go book》</a>
</li>

<li>
<a href="../../golang/advanced-go-programming-book/advanced-go-programming/" class="">《advanced-go-programming》</a>
</li>

<li>
<a href="../../golang/go-build-web-applications/module1/go-build-web-applications/go-build-web-applications/" class="">《go-build-web-applications》</a>
</li>

<li class="header">java</li>

<li>
<a href="../../java/java-basic-introduction/" class="">《java basic introduction》</a>
</li>

<li class="header">网络</li>

<li>
<a href="../../network/tcp_ip详解卷一/tcp_ip详解卷一/" class="">《TCP IP详解卷一》</a>
</li>

<li class="header">python</li>

<li>
<a href="../../python/fluent_python/" class="">《Fluent Python》</a>
</li>

<li>
<a href="../../python/Python_Microservices_Development/" class="">《Python Microservices Development》</a>
</li>

<li>
<a href="../../python/high_performance_python/" class="">《High Performance Python》</a>
</li>

<li>
<a href="../../python/python_网络编程/" class="">《Python网络编程》</a>
</li>

<li class="header">unix/linux</li>

<li>
<a href="../../unix_linux/Linux高性能服务器编程/Linux高性能服务器编程/" class="">《Linux高性能服务器编程》</a>
</li>

<li>
<a href="../../unix_linux/unix编程艺术/" class="">《unix编程艺术》</a>
</li>

<li>
<a href="../../unix_linux/unix网络编程卷一/" class="">《unix网络编程卷一》</a>
</li>

<li>
<a href="../../unix_linux/unix编程艺术/" class="">《unix编程艺术》</a>
</li>

<li>
<a href="../../unix_linux/APUE/environ/" class="">《APUE environ》</a>
</li>

<li>
<a href="../../unix_linux/APUE/fork/" class="">《APUE fork》</a>
</li>

<li>
<a href="../../unix_linux/APUE/gcc/" class="">《APUE gcc》</a>
</li>

<li>
<a href="../../unix_linux/APUE/IO/" class="">《APUE IO》</a>
</li>

<li>
<a href="../../unix_linux/APUE/IPC/" class="">《APUE IPC》</a>
</li>

<li>
<a href="../../unix_linux/APUE/makefile/" class="">《APUE makefile》</a>
</li>

<li>
<a href="../../unix_linux/APUE/wait/" class="">《APUE wait》</a>
</li>

<li>
<a href="../../unix_linux/APUE/动态库和静态库/" class="">《APUE 动态库和静态库》</a>
</li>

<li>
<a href="../../unix_linux/APUE/守护进程/" class="">《APUE 守护进程》</a>
</li>

<li>
<a href="../../unix_linux/APUE/文件权限/" class="">《APUE 文件权限》</a>
</li>

<li>
<a href="../../unix_linux/APUE/系统IO函数/" class="">《APUE 系统IO函数》</a>
</li>

<li>
<a href="../../unix_linux/APUE/信号/" class="">《APUE 信号》</a>
</li>

<li>
<a href="../../unix_linux/APUE/信号2/" class="">《APUE 信号2》</a>
</li>

<li>
<a href="../../unix_linux/APUE/线程/线程函数/" class="">《线程函数》</a>
</li>

<li>
<a href="../../unix_linux/APUE/线程/线程基础/" class="">《线程基础》</a>
</li>

<li>
<a href="../../unix_linux/APUE/线程/线程同步/" class="">《线程同步》</a>
</li>

<li class="header">分布式</li>

<li>
<a href="../../分布式/Kafka权威指南/" class="">《Kafka 权威指南》</a>
</li>

<li>
<a href="../../分布式/分布式框架原理与应用/" class="">《分布式框架原理与应用》</a>
</li>

<li>
<a href="../../分布式/大规模分布式存储系统/" class="">《大规模分布式存储系统》</a>
</li>

<li>
<a href="../../分布式/深入分布式缓存从原理到实践/" class="">《深入分布式缓存从原理到实践》</a>
</li>

<li class="header">搜索引擎</li>

<li>
<a href="../../搜索引擎/Elasticsearch实战/book/" class="">《Elasticsearch实战》</a>
</li>

<li class="header">容器</li>

<li>
<a href="../../devops/玩转Kubernets-CloudMan/" class="">《玩转Kubernets》</a>
</li>

<li>
<a href="../../devops/第一本docker书/" class="">《第一本docker书》</a>
</li>

<li class="header">开发工具</li>

<li>
<a href="../../开发工具/practical_vim/practical_vim/" class="">《Practical Vim》</a>
</li>

<li>
<a href="../../开发工具/vim8文本处理实战/vim8文本处理实战/" class="">《Vim8文本处理实战》</a>
</li>

<li>
<a href="../../开发工具/learn_vim_the_hard_way/" class="">《Learn vim scrpt the hard way》</a>
</li>

<li>
<a href="../../开发工具/pro_git/" class="">《Pro Git》</a>
</li>

<li>
<a href="../../开发工具/Mastering_vim/" class="">《Mastering Vim》</a>
</li>

<li>
<a href="../../开发工具/mastering_vim_quickly/" class="">《Mastering Vim Quickly》</a>
</li>

<li class="header">思维</li>

<li>
<a href="../../思维认知/专注力_化繁为简的惊人力量/" class="">《专注力》</a>
</li>

<li>
<a href="../../思维认知/为什么精英这样用脑不会累/" class="">《为什么精英这样用脑不会累》</a>
</li>

<li>
<a href="../../思维认知/刻意练习/" class="">《刻意练习》</a>
</li>

<li>
<a href="../../思维认知/如何想到又做到/" class="">《如何想到又做到》</a>
</li>

<li>
<a href="../../思维认知/学习之道/" class="">《学习之道》</a>
</li>

<li>
<a href="../../思维认知/学习力/" class="">《学习力》</a>
</li>

<li>
<a href="../../思维认知/批判性思维工具/" class="">《批判性思维工具》</a>
</li>

<li>
<a href="../../思维认知/程序员的思维修炼(开发认知潜能的九堂课)/" class="">《程序员的思维修炼》</a>
</li>

<li>
<a href="../../思维认知/认知天性/" class="">《认知天性》</a>
</li>

<li>
<a href="../../思维认知/超效率手册/" class="">《超效率手册》</a>
</li>

<li>
<a href="../../思维认知/如何高效记忆/" class="">《如何高效记忆》</a>
</li>

<li>
<a href="../../思维认知/科学学习/" class="">《科学学习》</a>
</li>

<li>
<a href="../../思维认知/高效程序员的45个习惯/" class="">《高效程序员的45个习惯》</a>
</li>

<li class="header">源码</li>

<li>
<a href="../../源码阅读_sourcecode/" class="">《源码阅读》</a>
</li>

<li class="header">网站架构微服务</li>

<li>
<a href="../../网站架构微服务/microservices_patterns_微服务架构设计模式/book/" class="">《微服务架构设计模式》</a>
</li>

<li>
<a href="../../网站架构微服务/从0开始学架构/从0开始学架构/" class="">《从0开始学架构》</a>
</li>

<li>
<a href="../../网站架构微服务/web_scalavility_for_startup_engineers/" class="">《web scalavility for startup engineers》</a>
</li>

<li>
<a href="../../网站架构微服务/design_data_instensive_application/" class="">《design_data_instensive_application》</a>
</li>

<li>
<a href="../../网站架构微服务/clean_architecture/" class="">《clean_architecture》</a>
</li>

<li>
<a href="../../网站架构微服务/微服务设计/" class="">《微服务设计》</a>
</li>

<li>
<a href="../../网站架构微服务/2_design_data_instensive_application/" class="">《2_design_data_instensive_application》</a>
</li>

<li>
<a href="../../网站架构微服务/3_design_data_instensive_application/" class="">《3_design_data_instensive_application》</a>
</li>

<li class="header">软件工程/项目管理</li>

<li>
<a href="../../软件工程_项目管理/人月神话/" class="">《人月神话》</a>
</li>

<li>
<a href="../../软件工程_项目管理/代码之殇/" class="">《代码之殇》</a>
</li>

<li>
<a href="../../软件工程_项目管理/解析极限编程-拥抱变化/" class="">《解析极限编程》</a>
</li>

<li>
<a href="../../软件工程_项目管理/项目管理修炼之道/" class="">《项目管理修炼之道》</a>
</li>

<li>
<a href="../../软件工程_项目管理/修改软件的艺术/" class="">《修改软件的艺术》</a>
</li>

<li class="header">运维</li>

<li>
<a href="../../运维/linux集群和自动化运维/" class="">《linux集群和自动化运维》</a>
</li>

<li>
<a href="../../运维/python自动化运维/" class="">《python自动化运维》</a>
</li>

<li class="header">金融理财</li>

<li>
<a href="../../金融理财/定投十年/" class="">《定投十年》</a>
</li>

<li>
<a href="../../金融理财/穷查理宝典/" class="">《穷查理宝典》</a>
</li>

<li class="header">写作</li>

<li>
<a href="../../写作/刷屏文案写作技巧/" class="">《刷屏文案写作技巧》</a>
</li>

<li class="header">互联网</li>

<li>
<a href="../../互联网/我的互联网方法论-周鸿祎/" class="">《我的互联网方法论-周鸿祎》</a>
</li>

<li>
<a href="../../互联网/用户思维/" class="">《用户思维》</a>
</li>

<li class="header">区块链</li>

<li>
<a href="../../区块链/区块链技术指南(blockchain_guide)/" class="">《区块链技术指南》</a>
</li>

<li class="header">技术演讲</li>

<li>
<a href="../../lecture/Gopher/哔哩哔哩的go微服务实战/note/" class="">《哔哩哔哩的go微服务实战》</a>
</li>

<li>
<a href="../../lecture/Gopher/Go_Error/go业务基础库之Error&Context/" class="">《go业务基础库之Error&Context》</a>
</li>

<li>
<a href="../../lecture/Gopher/Go同步和并发设计模式/note/" class="">《Go同步和并发设计模式》</a>
</li>

<li>
<a href="../../lecture/技术演讲/左耳朵耗子-我这技术二十年/" class="">《左耳朵耗子-我这技术二十年》</a>
</li>

<li class="header">职场</li>

<li>
<a href="../../career/give_and_take/" class="">《give and take》</a>
</li>

<li>
<a href="../../career/the_effective_engineer/" class="">《the_effective_engineer》</a>
</li>

<li>
<a href="../../career/光速成长/" class="">《光速成长》</a>
</li>

<li>
<a href="../../career/向上管理/" class="">《向上管理》</a>
</li>

<li>
<a href="../../career/成功动机与目标/" class="">《成功动机与目标》</a>
</li>

<li>
<a href="../../career/番茄工作法/" class="">《番茄工作法》</a>
</li>

<li>
<a href="../../career/聆听沟通学/" class="">《聆听沟通学》</a>
</li>

<li>
<a href="../../career/知乎职人觉醒/" class="">《知乎职人觉醒》</a>
</li>

<li>
<a href="../../career/知识变现/" class="">《知识变现》</a>
</li>

<li>
<a href="../../career/聆听沟通学/" class="">《聆听沟通学》</a>
</li>

<li>
<a href="../../career/职场动物进化手册/" class="">《职场动物进化手册》</a>
</li>

<li>
<a href="../../career/职场解释系/" class="">《职场解释系》</a>
</li>

<li>
<a href="../../career/请停止无效努力/" class="">《请停止无效努力》</a>
</li>

<li>
<a href="../../career/软技能/" class="">《软技能》</a>
</li>

<li>
<a href="../../career/高效15法则/" class="">《高效15法则》</a>
</li>

<li>
<a href="../../career/高效清单工作法/" class="">《高效清单工作法》</a>
</li>

<li>
<a href="../../career/程序员的自我修养/" class="">《程序员的自我修养》</a>
</li>

<li class="header">心理学</li>

<li>
<a href="../../psychology/一切都是童年的错吗/" class="">《一切都是童年的错吗》</a>
</li>

<li>
<a href="../../psychology/亲密关系/" class="">《亲密关系》</a>
</li>

<li>
<a href="../../psychology/情商/" class="">《情商》</a>
</li>

<li>
<a href="../../psychology/拖延心理学/" class="">《拖延心理学》</a>
</li>

<li>
<a href="../../psychology/积极心理学/" class="">《积极心理学》</a>
</li>

<li>
<a href="../../psychology/自控力/" class="">《自控力》</a>
</li>

<li>
<a href="../../psychology/自控力-和压力做朋友/" class="">《自控力:和压力做朋友》</a>
</li>

<li>
<a href="../../psychology/活出最乐观的自己/" class="">《活出最乐观的自己》</a>
</li>

<li>
<a href="../../psychology/改变心理学的40项研究/" class="">《改变心理学的40项研究》</a>
</li>

<li>
<a href="../../psychology/超越自卑/" class="">《超越自卑》</a>
</li>

<li>
<a href="../../psychology/反脆弱/" class="">《反脆弱》</a>
</li>

<li class="header">创业</li>

<li>
<a href="../../startup/hello_startup/" class="">《Hello Startup》</a>
</li>

<li>
<a href="../../startup/斯坦福公开课-如何创业/" class="">《斯坦福公开课如何创业》</a>
</li>

<li>
<a href="../../startup/运营其实很简单/" class="">《运营其实很简单》</a>
</li>

<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="httphuziketangcombooksreact">http://huziketang.com/books/react/</h1>
<h3 id="jsx-ui">使用 JSX 描述 UI 信息</h3>
<ul>
<li>JSX 是 JavaScript 语言的一种语法扩展，长得像 HTML，但并不是 HTML。</li>
<li>React.js 可以用 JSX 来描述你的组件长什么样的。</li>
<li>JSX 在编译的时候会变成相应的 JavaScript 对象描述。</li>
<li>react-dom 负责把这个用来描述 UI 信息的 JavaScript 对象变成 DOM 元素，并且渲染到页面上。</li>
</ul>
<h3 id="_1">事件监听</h3>
<pre><code class="js"> class Title extends Component {
  handleClickOnTitle () {
    console.log('Click on title.')
  }

  render () {
    return (
      &lt;h1 onClick={this.handleClickOnTitle}&gt;React 小书&lt;/h1&gt;
    )
  }
}
</code></pre>

<p>没有经过特殊处理的话，这些 on* 的事件监听只能用在普通的 HTML 的标签上，而不能用在组件标签上。也就是说，<Header onClick={…} /> 这样的写法不会有什么效果的。这一点要注意，但是有办法可以做到这样的绑定，以后我们会提及</p>
<h3 id="_2">高阶组件</h3>
<p>高阶组件是一个函数（不是组件），传给他一个组件返回一个新的组件，新的组件使用传入的组件作为子组件。
是一个函数，接受一个组件，修改后返回。</p>
<pre><code>import React, { Component } from &quot;react&quot;;

export default WrappedComponent =&gt; {
  class NewComponent extends Component {
    render() {
      return &lt;WrappedComponent /&gt;;
    }
  }
  return NewComponent;
};
</code></pre>

<p>为了组件之间代码复用，高阶组件内部的包装组件和被包装组件之间通过 props 传递数据。</p>
<h3 id="context">context</h3>
<p>React.js 的 context 就是这么一个东西，某个组件只要往自己的 context 里面放了某些状态，这个组件之下的所有子组件都直接访问这个状态而不需要通过中间组件的传递。一个组件的 context 只有它的子组件能够访问，它的父组件是不能访问到的，你可以理解每个组件的 context 就是瀑布的源头，只能往下流不能往上飞。</p>
<h3 id="redux">Redux</h3>
<p>Redux 是一种架构模式（Flux 架构的一种变种），它不关注你到底用什么库，你可以把它应用到 React 和 Vue，甚至跟 jQuery 结合都没有问题。而 React-redux 就是把 Redux 这种架构模式和 React.js 结合起来的一个库，就是 Redux 架构在 React.js 中的体现。
“模块（组件）之间需要共享数据”，和“数据可能被任意修改导致不可预料的结果”之间的矛盾。</p>
<p>Pure function: 一个函数的返回结果只依赖于它的参数，并且在执行过程里面没有副作用，我们就把这个函数叫做纯函数
- 函数的返回结果只依赖于它的参数。参数确定值就确定，不会依赖于全局变量这种
- 函数执行过程里面没有副作用: 一个函数执行过程对产生了外部可观察的变化那么就说这个函数是有副作用的。比如修改了传入的对象</p>
<p>纯函数很严格，也就是说你几乎除了计算数据以外什么都不能干，计算的时候还不能依赖除了函数参数以外的数据。
为什么要煞费苦心地构建纯函数？因为纯函数非常“靠谱”，执行一个纯函数你不用担心它会干什么坏事，它不会产生不可预料的行为，也不会对外部产生影响。不管何时何地，你给它什么它就会乖乖地吐出什么。如果你的应用程序大多数函数都是由纯函数组成，那么你的程序测试、调试起来会非常方便。</p>
<h3 id="reducer">reducer</h3>
<pre><code>// http://huziketang.com/books/react/lesson34
function createStore (reducer) {
  let state = null
  const listeners = []
  const subscribe = (listener) =&gt; listeners.push(listener)
  const getState = () =&gt; state
  const dispatch = (action) =&gt; {
    state = reducer(state, action)
    listeners.forEach((listener) =&gt; listener())
  }
  dispatch({}) // 初始化 state
  return { getState, dispatch, subscribe }
}
</code></pre>

<p>createStore 接受一个叫 reducer 的函数作为参数，这个函数规定是一个纯函数，它接受两个参数，一个是 state，一个是 action。</p>
<p>如果没有传入 state 或者 state 是 null，那么它就会返回一个初始化的数据。
reducer 是不允许有副作用的。你不能在里面操作 DOM，也不能发 Ajax 请求，更不能直接修改 state，它要做的仅仅是 ——
初始化和计算新的 state。根据 state 和 action 计算具有共享结构的新的 state.</p>
<p>createStore 现在可以直接拿来用了，套路就是：</p>
<pre><code>// 定一个 reducer
function reducer (state, action) {
  /* 初始化 state 和 switch case */
}

// 生成 store
const store = createStore(reducer)

// 监听数据变化重新渲染页面
store.subscribe(() =&gt; renderApp(store.getState()))

// 首次渲染页面
renderApp(store.getState())

// 后面可以随意 dispatch 了，页面自动更新
store.dispatch(...)
</code></pre>

<h1 id="smart-vs-dumb">Smart 组件 vs Dumb 组件</h1>
<ul>
<li>只会接受 props 并且渲染确定结果的组件我们把它叫做 Dumb 组件，这种组件只关心一件事情 —— 根据 props 进行渲染。 这个组件可能会在多处被使用到，那么我们就把它做成 Dumb 组件。</li>
<li>
<p>还有一种组件，它们非常聪明（smart），城府很深精通算计，我们叫它们 Smart 组件。它们专门做数据相关的应用逻辑，和各种数据打交道、和 Ajax 打交道，然后把数据通过 props 传递给 Dumb，它们带领着 Dumb 组件完成了复杂的应用程序逻辑。</p>
<p><img alt="" src="http://huzidaha.github.io/static/assets/img/posts/25608378-BE07-4050-88B1-72025085875A.png" /></p>
</li>
</ul>
<p>一旦一个可复用的 Dumb 组件之下引用了一个 Smart 组件，就相当于污染了这个 Dumb 组件树。如果一个组件是 Dumb 的，那么它的子组件们都应该是 Dumb 的才对。
看到对复用性的需求不同，会导致我们划分组件的方式不同。
Smart 组件可以使用 Smart、Dumb 组件；而 Dumb 组件最好只使用 Dumb 组件，否则它的复用性就会丧失。
要根据应用场景不同划分组件，如果一个组件并不需要太强的复用性，直接让它成为 Smart 即可；否则就让它成为 Dumb 组件。
还有一点要注意，Smart 组件并不意味着完全不能复用，Smart 组件的复用性是依赖场景的，在特定的应用场景下是当然是可以复用 Smart 的。而 Dumb 则是可以跨应用场景复用，Smart 和 Dumb 都可以复用，只是程度、场景不一样。</p>
<p>connect 是一个高阶组件(函数)，把 Dump 组件和 context 连接(connect) 起来</p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="../../js/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="../../search/main.js"></script>
<script src="../../js/gitbook.min.js"></script>
<script src="../../js/theme.min.js"></script>
</body>
</html>