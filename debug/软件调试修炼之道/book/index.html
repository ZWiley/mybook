<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>《软件调试修炼之道》 - ZWiley的读书笔记</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.0.4, mkdocs-gitbook-1.0.7">
<meta name="author" content="ZWiley">
<link rel="shortcut icon" href="../../../images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="../../../css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href="../../.." target="_blank" class="custom-link">ZWiley的读书笔记</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="">
<a href="../../..">简介</a>
<li class="header">C++</li>

<li>
<a href="../../../基础语言/C++编译底层/" class="">《C++编译底层》</a>
</li>

<li>
<a href="../../../基础语言/C++基础知识/" class="">《C++基础知识》</a>
</li>

<li>
<a href="../../../基础语言/C++智能指针_异常机制_强制转换_RTTI/" class="">《C++智能指针》</a>
</li>

<li>
<a href="../../../基础语言/C++面向对象/" class="">《C++面向对象》</a>
</li>

<li>
<a href="../../../基础语言/STL/" class="">《C++ STL》</a>
</li>

<li class="header">计算机基础知识</li>

<li>
<a href="../../../计算机基础知识/操作系统/" class="">《操作系统》</a>
</li>

<li>
<a href="../../../计算机基础知识/计算机网络/" class="">《计算机网络》</a>
</li>

<li>
<a href="../../../计算机基础知识/数据结构/" class="">《数据结构》</a>
</li>

<li>
<a href="../../../计算机基础知识/海量数据处理/" class="">《海量数据处理》</a>
</li>

<li class="header">《基本手写代码》</li>

<li>
<a href="../../../基本手写代码/插入排序.cpp" class="">《插入排序》</a>
</li>

<li>
<a href="../../../基本手写代码/单例模式.cpp" class="">《单例模式》</a>
</li>

<li>
<a href="../../../基本手写代码/堆排序.cpp" class="">《堆排序》</a>
</li>

<li>
<a href="../../../基本手写代码/二分查找法.cpp" class="">《二分查找法》</a>
</li>

<li>
<a href="../../../基本手写代码/非递归二叉树遍历.cpp" class="">《非递归二叉树遍历》</a>
</li>

<li>
<a href="../../../基本手写代码/归并排序.cpp" class="">《归并排序》</a>
</li>

<li>
<a href="../../../基本手写代码/快速排序.cpp" class="">《快速排序》</a>
</li>

<li>
<a href="../../../基本手写代码/智能指针的设计与实现.cpp" class="">《智能指针的设计与实现》</a>
</li>

<li class="header">项目基础知识</li>

<li>
<a href="../../../项目基础知识/Linux系统编程及基本命令/" class="">《Linux系统编程及基本命令》</a>
</li>

<li>
<a href="../../../项目基础知识/MySQL/" class="">《MySQL》</a>
</li>

<li>
<a href="../../../项目基础知识/Redis/" class="">《Redis》</a>
</li>

<li>
<a href="../../../项目基础知识/Socket编程/" class="">《Socket编程》</a>
</li>

<li class="header">代码</li>

<li>
<a href="../../../code/work_with_legacy_code/" class="">《Work with legacy code》</a>
</li>

<li>
<a href="../../../code/代码大全/" class="">《代码大全》</a>
</li>

<li>
<a href="../../../code/代码的未来/" class="">《代码的未来》</a>
</li>

<li>
<a href="../../../code/基本功/" class="">《基本功》</a>
</li>

<li>
<a href="../../../code/敏捷技能修炼/" class="">《敏捷技能修炼》</a>
</li>

<li>
<a href="../../../code/程序员应该知道的97件事/" class="">《程序员应该知道的97件事》</a>
</li>

<li>
<a href="../../../code/编写可读代码的艺术/" class="">《编写可读代码的艺术》</a>
</li>

<li>
<a href="../../../code/编程匠艺/" class="">《编程匠艺》</a>
</li>

<li>
<a href="../../../code/领域驱动设计/" class="">《领域驱动设计》</a>
</li>

<li>
<a href="../../../code/codelife_不止代码/" class="">《codelife_不止代码》</a>
</li>

<li class="header">调试技术</li>

<li>
<a href="./" class="active">《软件调试修炼之道》</a>
</li>

<li>
<a href="../../Effective_Debugging/" class="">《Effective Debugging》</a>
</li>

<li class="header">数据库</li>

<li>
<a href="../../../database/getting_started_with_impala/" class="">《Getting started with impala》</a>
</li>

<li>
<a href="../../../database/mysql必知必会/" class="">《mysql必知必会》</a>
</li>

<li>
<a href="../../../database/mysql性能调优与架构实践/" class="">《mysql性能调优与架构实践》</a>
</li>

<li>
<a href="../../../database/Mysql技术内幕InnoDB存储引擎/" class="">《Mysql技术内幕InnoDB存储引擎》</a>
</li>

<li>
<a href="../../../database/redis实战/" class="">《Redis实战》</a>
</li>

<li>
<a href="../../../database/redis深度历险核心原理和应用实践/book/" class="">《Redis深度历险核心原理和应用实践》</a>
</li>

<li>
<a href="../../../database/redis设计与实现/" class="">《redis设计与实现》</a>
</li>

<li>
<a href="../../../database/七周七数据库/" class="">《七周七数据库》</a>
</li>

<li>
<a href="../../../database/深入浅出mysql/" class="">《深入浅出mysql》</a>
</li>

<li>
<a href="../../../database/高性能mysql第三版/" class="">《高性能mysql第三版》</a>
</li>

<li class="header">前端</li>

<li>
<a href="../../../frontend/CSS_The_Missing_Manual/" class="">《CSS_The_Missing_Manual》</a>
</li>

<li>
<a href="../../../frontend/reactjs_小书/" class="">《reactjs小书》</a>
</li>

<li>
<a href="../../../frontend/es6标准入门/" class="">《ES6标准入门》</a>
</li>

<li>
<a href="../../../frontend/jquery_pocket_reference/" class="">《jquery_pocket_reference》</a>
</li>

<li>
<a href="../../../frontend/深入理解bootstrap/" class="">《深入理解bootstrap》</a>
</li>

<li class="header">golang</li>

<li>
<a href="../../../golang/1_the_go_programming_lauguage/" class="">《1 The Go Programming Language》</a>
</li>

<li>
<a href="../../../golang/2_the_go_programming_lauguage/" class="">《2 The Go Programming Language》</a>
</li>

<li>
<a href="../../../golang/3_the_go_programming_lauguage/" class="">《3 The Go Programming Language》</a>
</li>

<li>
<a href="../../../golang/build-web-application-with-golang/" class="">《Build Web Application With Golang》</a>
</li>

<li>
<a href="../../../golang/go101/book/" class="">《Go101》</a>
</li>

<li>
<a href="../../../golang/network-programming-with-go/book/" class="">《Network Programming with go》</a>
</li>

<li>
<a href="../../../golang/building-microservices-with-go/book/" class="">《Building Microservices With Go》</a>
</li>

<li>
<a href="../../../golang/building_restful_web_services_with_go/book/" class="">《Building Restful Web Services with Go》</a>
</li>

<li>
<a href="../../../golang/concurrency-in-go/concurrency_in_go/" class="">《Concurrency In Go》</a>
</li>

<li>
<a href="../../../golang/go_in_action(go语言实战)/" class="">《Go In Action(Go 实战)》</a>
</li>

<li>
<a href="../../../golang/go语言学习笔记语言详解/" class="">《Go学习笔记语言详解》</a>
</li>

<li>
<a href="../../../golang/go语言学习笔记源码剖析/" class="">《Go学习笔记源码剖析》</a>
</li>

<li>
<a href="../../../golang/go语言编程/" class="">《go语言编程》</a>
</li>

<li>
<a href="../../../golang/the_way_to_go/book/" class="">《go book》</a>
</li>

<li>
<a href="../../../golang/advanced-go-programming-book/advanced-go-programming/" class="">《advanced-go-programming》</a>
</li>

<li>
<a href="../../../golang/go-build-web-applications/module1/go-build-web-applications/go-build-web-applications/" class="">《go-build-web-applications》</a>
</li>

<li class="header">java</li>

<li>
<a href="../../../java/java-basic-introduction/" class="">《java basic introduction》</a>
</li>

<li class="header">网络</li>

<li>
<a href="../../../network/tcp_ip详解卷一/tcp_ip详解卷一/" class="">《TCP IP详解卷一》</a>
</li>

<li class="header">python</li>

<li>
<a href="../../../python/fluent_python/" class="">《Fluent Python》</a>
</li>

<li>
<a href="../../../python/Python_Microservices_Development/" class="">《Python Microservices Development》</a>
</li>

<li>
<a href="../../../python/high_performance_python/" class="">《High Performance Python》</a>
</li>

<li>
<a href="../../../python/python_网络编程/" class="">《Python网络编程》</a>
</li>

<li class="header">unix/linux</li>

<li>
<a href="../../../unix_linux/Linux高性能服务器编程/Linux高性能服务器编程/" class="">《Linux高性能服务器编程》</a>
</li>

<li>
<a href="../../../unix_linux/unix编程艺术/" class="">《unix编程艺术》</a>
</li>

<li>
<a href="../../../unix_linux/unix网络编程卷一/" class="">《unix网络编程卷一》</a>
</li>

<li>
<a href="../../../unix_linux/unix编程艺术/" class="">《unix编程艺术》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/environ/" class="">《APUE environ》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/fork/" class="">《APUE fork》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/gcc/" class="">《APUE gcc》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/IO/" class="">《APUE IO》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/IPC/" class="">《APUE IPC》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/makefile/" class="">《APUE makefile》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/wait/" class="">《APUE wait》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/动态库和静态库/" class="">《APUE 动态库和静态库》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/守护进程/" class="">《APUE 守护进程》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/文件权限/" class="">《APUE 文件权限》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/系统IO函数/" class="">《APUE 系统IO函数》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/信号/" class="">《APUE 信号》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/信号2/" class="">《APUE 信号2》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/线程/线程函数/" class="">《线程函数》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/线程/线程基础/" class="">《线程基础》</a>
</li>

<li>
<a href="../../../unix_linux/APUE/线程/线程同步/" class="">《线程同步》</a>
</li>

<li class="header">分布式</li>

<li>
<a href="../../../分布式/Kafka权威指南/" class="">《Kafka 权威指南》</a>
</li>

<li>
<a href="../../../分布式/分布式框架原理与应用/" class="">《分布式框架原理与应用》</a>
</li>

<li>
<a href="../../../分布式/大规模分布式存储系统/" class="">《大规模分布式存储系统》</a>
</li>

<li>
<a href="../../../分布式/深入分布式缓存从原理到实践/" class="">《深入分布式缓存从原理到实践》</a>
</li>

<li class="header">搜索引擎</li>

<li>
<a href="../../../搜索引擎/Elasticsearch实战/book/" class="">《Elasticsearch实战》</a>
</li>

<li class="header">容器</li>

<li>
<a href="../../../devops/玩转Kubernets-CloudMan/" class="">《玩转Kubernets》</a>
</li>

<li>
<a href="../../../devops/第一本docker书/" class="">《第一本docker书》</a>
</li>

<li class="header">开发工具</li>

<li>
<a href="../../../开发工具/practical_vim/practical_vim/" class="">《Practical Vim》</a>
</li>

<li>
<a href="../../../开发工具/vim8文本处理实战/vim8文本处理实战/" class="">《Vim8文本处理实战》</a>
</li>

<li>
<a href="../../../开发工具/learn_vim_the_hard_way/" class="">《Learn vim scrpt the hard way》</a>
</li>

<li>
<a href="../../../开发工具/pro_git/" class="">《Pro Git》</a>
</li>

<li>
<a href="../../../开发工具/Mastering_vim/" class="">《Mastering Vim》</a>
</li>

<li>
<a href="../../../开发工具/mastering_vim_quickly/" class="">《Mastering Vim Quickly》</a>
</li>

<li class="header">思维</li>

<li>
<a href="../../../思维认知/专注力_化繁为简的惊人力量/" class="">《专注力》</a>
</li>

<li>
<a href="../../../思维认知/为什么精英这样用脑不会累/" class="">《为什么精英这样用脑不会累》</a>
</li>

<li>
<a href="../../../思维认知/刻意练习/" class="">《刻意练习》</a>
</li>

<li>
<a href="../../../思维认知/如何想到又做到/" class="">《如何想到又做到》</a>
</li>

<li>
<a href="../../../思维认知/学习之道/" class="">《学习之道》</a>
</li>

<li>
<a href="../../../思维认知/学习力/" class="">《学习力》</a>
</li>

<li>
<a href="../../../思维认知/批判性思维工具/" class="">《批判性思维工具》</a>
</li>

<li>
<a href="../../../思维认知/程序员的思维修炼(开发认知潜能的九堂课)/" class="">《程序员的思维修炼》</a>
</li>

<li>
<a href="../../../思维认知/认知天性/" class="">《认知天性》</a>
</li>

<li>
<a href="../../../思维认知/超效率手册/" class="">《超效率手册》</a>
</li>

<li>
<a href="../../../思维认知/如何高效记忆/" class="">《如何高效记忆》</a>
</li>

<li>
<a href="../../../思维认知/科学学习/" class="">《科学学习》</a>
</li>

<li>
<a href="../../../思维认知/高效程序员的45个习惯/" class="">《高效程序员的45个习惯》</a>
</li>

<li class="header">源码</li>

<li>
<a href="../../../源码阅读_sourcecode/" class="">《源码阅读》</a>
</li>

<li class="header">网站架构微服务</li>

<li>
<a href="../../../网站架构微服务/microservices_patterns_微服务架构设计模式/book/" class="">《微服务架构设计模式》</a>
</li>

<li>
<a href="../../../网站架构微服务/从0开始学架构/从0开始学架构/" class="">《从0开始学架构》</a>
</li>

<li>
<a href="../../../网站架构微服务/web_scalavility_for_startup_engineers/" class="">《web scalavility for startup engineers》</a>
</li>

<li>
<a href="../../../网站架构微服务/design_data_instensive_application/" class="">《design_data_instensive_application》</a>
</li>

<li>
<a href="../../../网站架构微服务/clean_architecture/" class="">《clean_architecture》</a>
</li>

<li>
<a href="../../../网站架构微服务/微服务设计/" class="">《微服务设计》</a>
</li>

<li>
<a href="../../../网站架构微服务/2_design_data_instensive_application/" class="">《2_design_data_instensive_application》</a>
</li>

<li>
<a href="../../../网站架构微服务/3_design_data_instensive_application/" class="">《3_design_data_instensive_application》</a>
</li>

<li class="header">软件工程/项目管理</li>

<li>
<a href="../../../软件工程_项目管理/人月神话/" class="">《人月神话》</a>
</li>

<li>
<a href="../../../软件工程_项目管理/代码之殇/" class="">《代码之殇》</a>
</li>

<li>
<a href="../../../软件工程_项目管理/解析极限编程-拥抱变化/" class="">《解析极限编程》</a>
</li>

<li>
<a href="../../../软件工程_项目管理/项目管理修炼之道/" class="">《项目管理修炼之道》</a>
</li>

<li>
<a href="../../../软件工程_项目管理/修改软件的艺术/" class="">《修改软件的艺术》</a>
</li>

<li class="header">运维</li>

<li>
<a href="../../../运维/linux集群和自动化运维/" class="">《linux集群和自动化运维》</a>
</li>

<li>
<a href="../../../运维/python自动化运维/" class="">《python自动化运维》</a>
</li>

<li class="header">金融理财</li>

<li>
<a href="../../../金融理财/定投十年/" class="">《定投十年》</a>
</li>

<li>
<a href="../../../金融理财/穷查理宝典/" class="">《穷查理宝典》</a>
</li>

<li class="header">写作</li>

<li>
<a href="../../../写作/刷屏文案写作技巧/" class="">《刷屏文案写作技巧》</a>
</li>

<li class="header">互联网</li>

<li>
<a href="../../../互联网/我的互联网方法论-周鸿祎/" class="">《我的互联网方法论-周鸿祎》</a>
</li>

<li>
<a href="../../../互联网/用户思维/" class="">《用户思维》</a>
</li>

<li class="header">区块链</li>

<li>
<a href="../../../区块链/区块链技术指南(blockchain_guide)/" class="">《区块链技术指南》</a>
</li>

<li class="header">技术演讲</li>

<li>
<a href="../../../lecture/Gopher/哔哩哔哩的go微服务实战/note/" class="">《哔哩哔哩的go微服务实战》</a>
</li>

<li>
<a href="../../../lecture/Gopher/Go_Error/go业务基础库之Error&Context/" class="">《go业务基础库之Error&Context》</a>
</li>

<li>
<a href="../../../lecture/Gopher/Go同步和并发设计模式/note/" class="">《Go同步和并发设计模式》</a>
</li>

<li>
<a href="../../../lecture/技术演讲/左耳朵耗子-我这技术二十年/" class="">《左耳朵耗子-我这技术二十年》</a>
</li>

<li class="header">职场</li>

<li>
<a href="../../../career/give_and_take/" class="">《give and take》</a>
</li>

<li>
<a href="../../../career/the_effective_engineer/" class="">《the_effective_engineer》</a>
</li>

<li>
<a href="../../../career/光速成长/" class="">《光速成长》</a>
</li>

<li>
<a href="../../../career/向上管理/" class="">《向上管理》</a>
</li>

<li>
<a href="../../../career/成功动机与目标/" class="">《成功动机与目标》</a>
</li>

<li>
<a href="../../../career/番茄工作法/" class="">《番茄工作法》</a>
</li>

<li>
<a href="../../../career/聆听沟通学/" class="">《聆听沟通学》</a>
</li>

<li>
<a href="../../../career/知乎职人觉醒/" class="">《知乎职人觉醒》</a>
</li>

<li>
<a href="../../../career/知识变现/" class="">《知识变现》</a>
</li>

<li>
<a href="../../../career/聆听沟通学/" class="">《聆听沟通学》</a>
</li>

<li>
<a href="../../../career/职场动物进化手册/" class="">《职场动物进化手册》</a>
</li>

<li>
<a href="../../../career/职场解释系/" class="">《职场解释系》</a>
</li>

<li>
<a href="../../../career/请停止无效努力/" class="">《请停止无效努力》</a>
</li>

<li>
<a href="../../../career/软技能/" class="">《软技能》</a>
</li>

<li>
<a href="../../../career/高效15法则/" class="">《高效15法则》</a>
</li>

<li>
<a href="../../../career/高效清单工作法/" class="">《高效清单工作法》</a>
</li>

<li>
<a href="../../../career/程序员的自我修养/" class="">《程序员的自我修养》</a>
</li>

<li class="header">心理学</li>

<li>
<a href="../../../psychology/一切都是童年的错吗/" class="">《一切都是童年的错吗》</a>
</li>

<li>
<a href="../../../psychology/亲密关系/" class="">《亲密关系》</a>
</li>

<li>
<a href="../../../psychology/情商/" class="">《情商》</a>
</li>

<li>
<a href="../../../psychology/拖延心理学/" class="">《拖延心理学》</a>
</li>

<li>
<a href="../../../psychology/积极心理学/" class="">《积极心理学》</a>
</li>

<li>
<a href="../../../psychology/自控力/" class="">《自控力》</a>
</li>

<li>
<a href="../../../psychology/自控力-和压力做朋友/" class="">《自控力:和压力做朋友》</a>
</li>

<li>
<a href="../../../psychology/活出最乐观的自己/" class="">《活出最乐观的自己》</a>
</li>

<li>
<a href="../../../psychology/改变心理学的40项研究/" class="">《改变心理学的40项研究》</a>
</li>

<li>
<a href="../../../psychology/超越自卑/" class="">《超越自卑》</a>
</li>

<li>
<a href="../../../psychology/反脆弱/" class="">《反脆弱》</a>
</li>

<li class="header">创业</li>

<li>
<a href="../../../startup/hello_startup/" class="">《Hello Startup》</a>
</li>

<li>
<a href="../../../startup/斯坦福公开课-如何创业/" class="">《斯坦福公开课如何创业》</a>
</li>

<li>
<a href="../../../startup/运营其实很简单/" class="">《运营其实很简单》</a>
</li>

<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="1">1. 山重水复疑无路</h1>
<p>有效的调试步骤：</p>
<ul>
<li>弄清楚为什么运行异常</li>
<li>修复问题</li>
<li>避免破坏其他部分</li>
<li>保持或者提高代码总体质量（可读性，架构，测试覆盖，性能等）</li>
<li>确保同样问题不要再次发生</li>
</ul>
<p>实证方法：构建实验，观察结果</p>
<p>核心调试过程：</p>
<ul>
<li>问题重现</li>
<li>问题诊断</li>
<li>缺陷修复</li>
<li>反思，吸取教训</li>
</ul>
<p>澄清问题：</p>
<ul>
<li>发生了什么，应该发生什么</li>
<li>一次一个问题</li>
<li>先检查简单的事情</li>
</ul>
<h1 id="2">2  重现问题</h1>
<h3 id="21">2.1 重现第一，提问第二</h3>
<p>如何重现：</p>
<ul>
<li>明确开始要做的事情（比如缺陷报告的步骤）</li>
<li>抓住重点</li>
</ul>
<p>控制因素：</p>
<ul>
<li>软件本身</li>
<li>运行环境</li>
<li>提供的输入</li>
</ul>
<h3 id="22">2.2 控制软件</h3>
<h3 id="23">2.3 控制环境</h3>
<p>可能包含所有环境</p>
<h3 id="24">2.4 控制输入</h3>
<p>推测可能输入:</p>
<ul>
<li>回溯工作</li>
<li>探测可能输入值<ul>
<li>边界分析</li>
<li>分之覆盖</li>
<li>利用错误条件</li>
<li>引入随机性：模糊测试；生成模糊器；变异模糊器</li>
</ul>
</li>
<li>记录输入值<ul>
<li>日志框架。可以开启 or 关闭；日志级别；上下文（代码行数等）；分析工具（ELK）</li>
<li>外部日志。代理服务器等</li>
</ul>
</li>
<li>负载和压力。有些缺陷只有在某种压力才表现出来（高负载网络流量，有限的可用内存）</li>
</ul>
<h3 id="25">2.5 改进问题重现</h3>
<h5 id="251-">2.5.1 最小化反馈周期。编辑-执行-重新问题时间最短</h5>
<ul>
<li>尽可能简单，通过二分法快速定位</li>
<li>自动化最小输入</li>
<li>最大限度减少所需时间，比如营造资源耗尽的局面。</li>
</ul>
<h5 id="252">2.5.2 不确定缺陷变为确定</h5>
<p>软件之美在于确定性，但是不确定性从哪里来？</p>
<ul>
<li>开始于不可预知的初始状态。从未经初始化的内存读取数据(强制初始化，或者内存完整性检测软件)</li>
<li>与外部系统交互: 精确控制从外部系统接收了什么</li>
<li>故意使用随机性: 伪随机数</li>
<li>多线程: 通过 sleep 等增加出现竞争的可能性</li>
</ul>
<h5 id="253">2.5.3 自动化</h5>
<ul>
<li>自动化测试</li>
<li>重放日志</li>
</ul>
<h3 id="26">2.6 无法重现怎么办</h3>
<ul>
<li>缺陷真的存在么？</li>
<li>在相同区域解决不同问题</li>
<li>让其他人参与其中。不同人的视角</li>
<li>充分利用用户群体</li>
<li>推测法：逻辑推理，想象出错的可能性</li>
</ul>
<h1 id="3">3 诊断</h1>
<h3 id="31">3.1 不要急于动手，试试科学方法</h3>
<ul>
<li>调试方法：<ul>
<li>根据你对软件运行情况的理解，提出一个可以导致这种情况的假设</li>
<li>设计一个实验，证明假设是否正确</li>
<li>如果无法证明你的假设，重新设计然后再次实验</li>
<li>如果实验支持你的假设，继续证明，知道能够证明或者证伪</li>
</ul>
</li>
</ul>
<ul>
<li>实验必须起到验证的作用。(与他人争辩试图推翻你的假设)</li>
</ul>
<ul>
<li>每次只做一个修改。多处修改可能导致错误的结论。</li>
</ul>
<ul>
<li>记录你做的调试。定期回顾你已经尝试过的实验和学到的东西，使用日记簿或者电子笔记。</li>
</ul>
<ul>
<li>不要忽略任何细节。凡是你不明白的都是潜在的缺陷。(Anything that you don't understand is potentially a bug)<ul>
<li>写出假设。曾经做过的假设写到纸上</li>
<li>可以跟踪详细信息</li>
<li>确保不会忘记需要做的事情</li>
<li>短暂休息，可以尝试头脑风暴</li>
</ul>
</li>
</ul>
<h3 id="32">3.2 相关策略</h3>
<h5 id="321">3.2.1 插桩</h5>
<p>使用日志，但是不要引入额外的副作用影响了原始代码逻辑。增加日志的时候，不要同时修改代码逻辑。</p>
<h5 id="322">3.2.2 分而治之</h5>
<p>二分法，排除一部分模块或者代码的问题。</p>
<h5 id="323">3.2.3 源码控制工具</h5>
<p>git 找出历史提交，分析引入缺陷的提交</p>
<h5 id="324">3.2.4 聚焦差异</h5>
<p>找到特殊用例，缺陷的边界</p>
<h5 id="325">3.2.5 向他人学习</h5>
<p>网络搜索，同事求助</p>
<h5 id="326">3.2.6 奥卡姆剃刀</h5>
<p>其他条件相同情况下，最简单的解释是最好的。</p>
<h3 id="33">3.3 调试器</h3>
<p>代码检查，断点，单步调试，检查运行状态</p>
<ul>
<li>开发初期调试器非常有用</li>
<li>让代码以特定方式运行</li>
<li>探究看不懂的代码</li>
</ul>
<p>随着经验增加和TDD 思想出现，调试器使用会变少</p>
<h3 id="34">3.4 陷阱</h3>
<ul>
<li>你做的修改是正确的么？如果没有，说明你没修改到点子上。尝试引入明显的失败比如断言让其暴露出来</li>
<li>验证假设。思维定势造成的先验假设可能会让你得不到结果</li>
<li>多重原因。问题有时候是复杂的，<ul>
<li>对问题进行隔离，找到一个方法重现缺陷。</li>
<li>先找同一个区域内其他较明显的缺陷，扫清障碍，让缺陷更加明显</li>
</ul>
</li>
<li>查出变化并且控制它。第三方系统或者数据库。</li>
</ul>
<h3 id="35">3.5 思维游戏</h3>
<ul>
<li>旁观调试法（小黄鸭）。求助其他人。倾听；提问；留意没有探究过的地方；了解接下来将会发生什么。解释问题会帮你理清思路</li>
<li>角色扮演</li>
<li>换换脑筋。潜意识帮助你</li>
<li>做些改变，什么改变都行。出去散个步最好</li>
<li>福尔摩斯原则：当你排除了一切不可能之后，无论它多么不可思议，它也一定是真相</li>
</ul>
<h3 id="36">3.6 验证诊断</h3>
<ul>
<li>向其他人解释你的诊断</li>
<li>检查源代码原始副本</li>
<li>多和其他人讨论，并假设你是错的</li>
</ul>
<h1 id="4">4 修复缺陷</h1>
<h3 id="41">4.1 清楚障碍</h3>
<p>从一个干净的代码树开始修改。</p>
<h3 id="42">4.2 测试</h3>
<ul>
<li>保证现有测试都可以通过</li>
<li>添加一个或者多个新的测试程序</li>
<li>修复 bug</li>
<li>证明修复起了作用</li>
<li>证明回归测试没有失败</li>
</ul>
<h3 id="43">4.3 修复原因而非修复现象</h3>
<p>理解问题的症结所在</p>
<h3 id="44">4.4 重构</h3>
<p>重构：改善代码设计而不改变其行为的过程。</p>
<ul>
<li>重构应该在有全面单测套件的安全网中才可以安全修改既有代码</li>
<li>重构或者修改功能，不能同时进行。 重构的同时决不能修改代码功能，同样也不能修复有缺陷的代码。(一次只做一件事)</li>
</ul>
<h3 id="45">4.5 签入</h3>
<p>一次逻辑修改只做一次签入。方便快速回滚和定位代码问题。</p>
<h3 id="46">4.6 审查代码</h3>
<h1 id="5">5. 反思</h1>
<h3 id="51">5.1 这到底是怎么搞的</h3>
<ul>
<li>如果缺陷仅仅发生在少数用户身上，你就要反思是否还有其他问题？</li>
<li>一个你以为会失败的 case，结果却成功了</li>
</ul>
<h3 id="52">5.2 哪里除出了问题？</h3>
<p>五个为什么？</p>
<ul>
<li>我们已经做到了么？</li>
<li>根本原因分析。责备没有用<ul>
<li>需求是否正确，是否是模糊的，误解了</li>
<li>架构或者设计。有没有正确按照设计来做</li>
<li>测试。测试覆盖率足够么？</li>
<li>构造</li>
</ul>
</li>
</ul>
<h3 id="53">5.3 它不会再发生了</h3>
<ul>
<li>自动验证，检查是否存在问题</li>
<li>和同事交流</li>
<li>重构代码避免被不正确使用</li>
<li>过程。检查工作过程</li>
</ul>
<h3 id="54">5.4 关闭循环</h3>
<p>编码规范；测试规范；文档规范；报告/跟踪过程；设计指南；性能需求</p>
<h1 id="6">6. 发现代码存在问题</h1>
<h3 id="61">6.1 缺陷追踪</h3>
<ul>
<li>使用缺陷追踪系统。</li>
<li>缺陷报告。具体，明确，详细的。</li>
<li>环境和配置报告。自动收集环境和配置信息，不要指望用户</li>
</ul>
<h3 id="62">6.2 与用户合作</h3>
<ul>
<li>简化流程</li>
<li>自动化</li>
<li>提供多种选择</li>
<li>尽量简单</li>
<li>模板不要死板</li>
<li>尊重用户隐私</li>
</ul>
<p>有效的沟通：</p>
<ul>
<li>心智模式。从用户角度设想一下</li>
<li>和非技术人员沟通</li>
<li>发布缺陷数据库</li>
<li>隐私问题；提供反馈；拜访用户</li>
</ul>
<h3 id="63">6.3 与支持人员协同工作</h3>
<p>学会沟通；和 QA 搞好关系，以便在修复缺陷的过程中得到帮助。</p>
<h1 id="7">7. 务实的零容忍策略</h1>
<h3 id="71">7.1 缺陷优先</h3>
<p>早期修复缺陷是一个好的策略：</p>
<ul>
<li>可能发现缺陷的过程（比如测试、代码审查、用户使用等）要连续贯穿整个开发过程</li>
<li>缺陷修复优先于其他任何事情</li>
</ul>
<ul>
<li>质量底下具有传染性。</li>
<li>破窗理论。发现缺陷就立马解决，不要留破窗户</li>
</ul>
<h3 id="72">7.2 调试的思维模式</h3>
<p>既要完美，又要实用。接近零容忍，但是用务实的心态去实现。</p>
<h3 id="73">7.3 自己来解决质量问题</h3>
<p>面对大量bug 如何摆脱困境？</p>
<ul>
<li>没有灵丹妙药。</li>
<li>停止开发有缺陷的程序。阻止事情恶化。</li>
<li>从不干净的代码中分离干净代码</li>
<li>缺陷分类</li>
<li>缺陷闪电战。集中较短时间专门修复缺陷</li>
</ul>
<h1 id="8">8 特殊案例</h1>
<h3 id="81">8.1 修复已经发布软件</h3>
<p>集中精力减少风险。</p>
<h3 id="82">8.2 向后兼容</h3>
<p>将确定兼容问题加入到你的缺陷修复检查列表中</p>
<ul>
<li>提供迁移方法</li>
<li>实现一个兼容模式。比如 word 就是这么做的</li>
<li>提供预警。java api 升级</li>
<li>不修复。极少数情况是一个务实的方案</li>
</ul>
<h3 id="83">8.3 并发</h3>
<p>简单和控制</p>
<p>让并发软件中问题更少地发生不是一个可取修复办法。
修复并发缺陷时，避免实用 sleep 方法。</p>
<h3 id="84">8.4 海森堡缺陷</h3>
<p>观察者效应。尽量减少收集信息带来的副作用</p>
<h3 id="85">8.5 性能缺陷</h3>
<ul>
<li>寻找瓶颈。性能分析器。通过检查代码有时候预测瓶颈是不可靠的。</li>
<li>没有瓶颈呢？是否是资源耗尽；垃圾收集；缓存丢失等</li>
</ul>
<h3 id="86">8.6 嵌入式软件</h3>
<p>仿真器；硬件还是软件问题；</p>
<h3 id="87">8.7 第三方软件缺陷</h3>
<ul>
<li>不要太快去指责。<strong>首先怀疑你自己的代码</strong></li>
<li>报告别人代码中的缺陷。慎重自己直接修复</li>
<li>linux 法则：眼睛足够多，bug 无处藏</li>
<li>报告问题：检查文档；尽可能给出足够信息</li>
</ul>
<h1 id="9">9. 理想的调试环境</h1>
<h3 id="91">9.1 自动化测试</h3>
<ul>
<li>结果明确，通过还是失败</li>
<li>环境独立</li>
<li>所有测试可以独立运行</li>
<li>全面覆盖</li>
</ul>
<h3 id="92">9.2 源程序控制</h3>
<ul>
<li>合理使用代码分支</li>
<li>坚持分之单一层级</li>
<li>设计 CI 构建所有正在活跃的分之</li>
<li>小的修改更加容易理解，合并和撤销</li>
<li>不要一次合并多个分之</li>
</ul>
<h3 id="93">9.3 自动构建</h3>
<ul>
<li>自动化构建整个过程，从开始到完成。</li>
<li>持续集成</li>
<li>静态分析(lint工具)。不要依赖未定义行为；谨慎对待编辑器警告</li>
</ul>
<h1 id="10">10. 让软件学会自己寻找缺陷</h1>
<h3 id="101">10.1 假设和断言</h3>
<p>fail early，使用断言保护代码。</p>
<p>契约式编程：</p>
<ul>
<li>先决条件。不如参数不能是空</li>
<li>后置条件。调用之后保持的条件，比如一个 http addHeader() 方法调用之后 headers map 比原来多一个</li>
<li>不变量。方法调用之前它的先决条件被满足就始终为真的数据。</li>
</ul>
<p>支持开启和关闭断言功能。</p>
<p>软件在产品阶段应该是鲁棒的，在调试阶段应该是脆弱的。
断言是一个缺陷检测机制，不是一个错误处理机制。</p>
<h3 id="102">10.2 调试版本</h3>
<p>不要等待资源泄露表现出来，主动今早地检测它们。</p>
<h1 id="11">11. 反模式</h1>
<h3 id="111">11.1 夸大优先级</h3>
<p>质量差才是导致大量缺陷的原因。</p>
<ul>
<li>定期清理缺陷</li>
<li>控制优先级</li>
<li>不要使用数字表示优先级</li>
</ul>
<h3 id="112">11.2 超级巨星</h3>
<p>巨星效应会破坏团队。一开始匆忙实现看似非常高效率(所以被称为"巨星"），但是遗留了一堆棘手的烂摊子。</p>
<ul>
<li>确保完成就是完成，需要功能被测试过了，检查过了，记录文档了。</li>
<li>任务分解为小任务</li>
<li>自负自责。谁搞得 bug 谁负责修理它。（有时候你可能要考虑拍屁股走人了，比如一堆 c 艹的烂摊子？？？）</li>
</ul>
<h3 id="113">11.3 维护团队</h3>
<p>最终开发和维护都要由一个团队来完成，保持连续性。不要区分开发和维护团队。</p>
<h3 id="114">11.4 救火模式</h3>
<p>退一步，找出根本原因，再去解决问题</p>
<p>救火模式永远也不会修复任何质量问题。</p>
<h3 id="115">11.5 重写</h3>
<p>从心理学角度来看，开发新代码比重写旧的代码让人更加舒服。天生乐观会让我们低估了复制旧功能要付出的精力和时间。
避免彻头彻尾重写，增量式重写代码。</p>
<h3 id="116">11.6 没有代码所有权</h3>
<p>集体代码所有权（极限编程）</p>
<h3 id="117">11.7 魔法</h3>
<p>任何你不理解的事情都可能隐藏有缺陷。唯一的方法就是纪律，把你不理解的事物都当成缺陷。</p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="../../../js/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="../../../search/main.js"></script>
<script src="../../../js/gitbook.min.js"></script>
<script src="../../../js/theme.min.js"></script>
</body>
</html>